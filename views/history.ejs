<%- include('partials/header') %>
<h2>Historial de Compras</h2>
<% if (Object.keys(orders).length === 0) { %>
    <p>No tienes compras realizadas.</p>
<% } else { %>
    <% for (const orderId in orders) { %>
        <div class="card mb-3">
            <div class="card-header d-flex justify-content-between">
                <span>Orden #<%= orderId %> - <%= new Date(orders[orderId].date).toLocaleDateString() %></span>
                <strong>Total: $<%= orders[orderId].total %></strong>
            </div>
            <ul class="list-group list-group-flush">
                <% orders[orderId].items.forEach(item => { %>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <%= item.name %>
                        <span class="badge bg-primary rounded-pill"><%= item.quantity %> x $<%= item.price %></span>
                    </li>
                <% }) %>
            </ul>
        </div>
    <% } %>
<% } %>